## linux进程间通信--共享内存 ##（未完待续）
**（一）什么是共享内存**
> 共享内存是在两个正在运行的进程之间传递数据的一种非常有效的方式。共享内存的具体实现是不同进程共享的内存安排为同一段物理地址。共享内存是最高效的IPC 机制，因为他不涉及进程之间的任何数据传输。这种高效率带来的问题是，我们必须借用其他的辅助方法来同步进程间对共享内存的访问，否则会产生静态条件，因此，共享内存一般会和其他进程间通信一起使用。具体信息可通过“ [https://blog.csdn.net/ypt523/article/details/79958188](https://blog.csdn.net/ypt523/article/details/79958188) ”了解；

**（二）共享内存的使用**
   
linux共享内存的API都定义在sys/shm.h头文件中，包括4个系统调用：shmget、shmat、shmdt和shmctl，下面进行分节描述：

- 2.1 shmget系统调用

  shmget系统调用创建一段新的共享内存，或者获取一段已经存在的共享内存，其定义如下：

    #include <sys/shm.h>
    int shmget(key_t key, size_t size, int shmflg);

 **参数key**：和semget系统调用一样，key参数是一个键值，它有效地为共享内存段命名，shmget函数成功时返回一个与key相关的共享内存标识符（非负整数），用于后续的共享内存函数。调用失败返回-1。不相关的进程可以通过该函数的返回值访问同一共享内存，它代表程序可能要使用的某个资源，程序对所有共享内存的访问都是间接的，程序先通过调用shmget函数并提供一个键，再由系统生成一个相应的共享内存标识符（shmget函数的返回值），只有shmget函数才直接使用信号量键，所有其他的信号量函数使用由semget函数返回的信号量标识符。

**参数size**：指定共享内存的大小，单位是字节。

**参数shmflg**：和semget系统调用的sem_flag参数相同。不过shmget支持连个额外的标志。

           SHM_HUGETLB：类似于mmap的MAP_

           SHM_NORESERVE：

  
- 2.2 shmat系统调用


- 2.3 shmdt系统调用

 
- 2.4 shmctl系统调用


**（三）代码演示**


**（四）共享内存的使用分析**

 
-  4.1 安全分析


-   4.2 优缺点分析


